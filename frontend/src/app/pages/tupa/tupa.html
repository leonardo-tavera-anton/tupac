<div class="tupa-dashboard">
  <div class="dashboard-header">
    <div class="header-content">
      <h2>Portal TUPA</h2>
      <p>Seleccione un área y un trámite para ver los requisitos.</p>
    </div>
  </div>

  <div class="dashboard-container">
    
    <div class="search-section card-modern">
      <div class="row">
        
        <div class="col-md-6 form-group">
          <label>1. Seleccione un Área</label>
          <div class="select-wrapper">
            <select 
              class="form-control modern-select" 
              [ngModel]="areaSeleccionada" 
              (ngModelChange)="seleccionarArea($event)">
              <option [ngValue]="null" disabled selected>-- Elija un área administrativa --</option>
              <option *ngFor="let area of areas" [ngValue]="area">
                {{ area.nombre }}
              </option>
            </select>
          </div>
        </div>

        <div class="col-md-6 form-group">
          <label>2. Seleccione un Trámite</label>
          <div class="select-wrapper">
            <select 
              class="form-control modern-select" 
              [ngModel]="tramiteSeleccionado" 
              (ngModelChange)="seleccionarTramite($event)"
              [disabled]="!areaSeleccionada">
              <option [ngValue]="null" disabled selected>
                {{ areaSeleccionada ? '-- Elija un trámite --' : 'Primero elija un área' }}
              </option>
              <option *ngFor="let tramite of tramitesFiltrados" [ngValue]="tramite">
                {{ tramite.nombre_tramite }}
              </option>
            </select>
          </div>
        </div>
      </div>
    </div>

    <div class="results-section mt-4" *ngIf="tramiteSeleccionado">
      <div class="card-modern">
        <div class="card-header">
          <h3>Requisitos y Tasas</h3>
          <span class="badge-modern">{{ tramiteSeleccionado.nombre_tramite }}</span>
        </div>
        
        <div class="card-body">
          <ul class="requisitos-list">
            <li *ngFor="let req of tramiteSeleccionado.requisitos">
              <div class="icon-check">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
              </div>
              <p>{{ req.descripcion }}</p>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="empty-state mt-4" *ngIf="areaSeleccionada && !tramiteSeleccionado">
      <div class="card-modern text-center p-5">
        <h4 class="text-muted">Por favor, seleccione un trámite para ver sus detalles.</h4>
      </div>
    </div>

  </div>
</div>